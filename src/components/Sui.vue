<template>
  <div>
    <h1>sui</h1>
    <button @click="onFaucet">faucet</button>
    <div>
      <label>* deploy: </label> <button @click="onDeploy">deploy</button>
    </div>
    <div>
      <label>objects: </label> <button @click="onGetObjects">get Objects</button>
    </div>
    <div>
      <label>object: </label> <button @click="onGetObject"> get Object</button>
    </div>
    <div>
      <label>source deploy: </label><button @click="sourceDeploy">source deploy</button>
    </div>
    <div>
      <label>checkTransaction:</label><button @click="checkTransaction">checkTransaction</button>
    </div>
    <div>
      <label>* moveCall: </label><button @click="moveCall">moveCall</button>
    </div>
    <div>
      <lablel>sourceMoveCall: </lablel> <button @click="sourceMoveCall">sourceMoveCall</button>
    </div>

    <h1>------</h1>
    <div>
      <label>mehtod1: </label> <button @click="method1">method1</button>
    </div>
    <div>
      <label>method2: </label> <button @click="method2">method2</button>
    </div>
    <div>
      <label>method3:</label><button @click="method3">method3</button>
    </div>
  </div>
</template>

<script setup>
import {
  Ed25519Keypair,
  RawSigner,
  TransactionBlock,
  normalizeSuiObjectId,
  fromB64,
  JsonRpcProvider, Connection
} from '@mysten/sui.js';

import {WalletStandardAdapterProvider} from "@mysten/wallet-adapter-wallet-standard"

//NFT
const compiledModulesAndDeps = {
  "modules":[
    "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X2Nvc21ldGljXzAXYXBwbGllZF9mYXJtX2Nvc21ldGljXzEaYXBwbGllZF9tb25zdGVyX2Nvc21ldGljXzAaYXBwbGllZF9tb25zdGVyX2Nvc21ldGljXzEFYXNjaWkGYm9ycm93CmJvcnJvd19tdXQFYnJlZWQLYnVkZHlfbGV2ZWwNY29zbWV0aWNfdHlwZQtjcmVhdGVfZmFybRVjcmVhdGVfZmFybV9jb3NtZXRpY3MOY3JlYXRlX21vbnN0ZXIYY3JlYXRlX21vbnN0ZXJfY29zbWV0aWNzDWNyZWF0ZV9wbGF5ZXIKY3VycmVudF94cAdkaXNwbGF5FGR5bmFtaWNfb2JqZWN0X2ZpZWxkEWVhcnRoX3J1bmVzX2NvdW50DmZhcm1faW1nX2luZGV4CWZhcm1fbmFtZQRmaWxsEGZpcmVfcnVuZXNfY291bnQIZ2VuaXRlYW0MaHVuZ2VyX2xldmVsAmlkCWludmVudG9yeQdpc19ub25lBWxldmVsEG1vbnN0ZXJfYWZmaW5pdHkTbW9uc3Rlcl9kZXNjcmlwdGlvbhFtb25zdGVyX2ltZ19pbmRleA1tb25zdGVyX2xldmVsDG1vbnN0ZXJfbmFtZQptb25zdGVyX3hwA25ldwhuZXdfZmFybQtuZXdfbW9uc3RlcgpuZXdfcGxheWVyBG5vbmUGb2JqZWN0Cm9iamVjdF9iYWcMb2JqZWN0X3RhYmxlFm9jY3VwaWVkX21vbnN0ZXJfc2xvdHMGb3B0aW9uCm93bmVkX2Zhcm0McGV0X21vbnN0ZXJzC3BsYXllcl9uYW1lBnNlbmRlcgZzdHJpbmcTdG90YWxfbW9uc3Rlcl9zbG90cwh0cmFuc2Zlcgp0eF9jb250ZXh0CHR5cGVkX2lkFXVwZGF0ZV9mYXJtX2Nvc21ldGljcxF1cGRhdGVfZmFybV9zdGF0cxh1cGRhdGVfbW9uc3Rlcl9jb3NtZXRpY3MUdXBkYXRlX21vbnN0ZXJfc3RhdHMNdXBkYXRlX3BsYXllchF3YXRlcl9ydW5lc19jb3VudBB3aW5kX3J1bmVzX2NvdW50AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAA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"
  ],
  "dependencies":
      ["0x0000000000000000000000000000000000000000000000000000000000000001",
        "0x0000000000000000000000000000000000000000000000000000000000000002"]}

// const basicModuel = {"modules":["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"],"dependencies":["0x0000000000000000000000000000000000000000000000000000000000000001","0x0000000000000000000000000000000000000000000000000000000000000002"]}

function delay(milliseconds){
  return new Promise(resolve => {
    setTimeout(resolve, milliseconds);
  });
}

// connect to Devnet
const providers = new WalletStandardAdapterProvider()
// get tokens from the DevNet faucet server

const provider = providers.get()[0]

provider.connect().then(() => {

  debugger
}).catch(reject => {
  console.log(reject)
})

const onFaucet = ()=> {
  provider.requestSuiFromFaucet(
      '0x7a1378aafadef8ce743b72e8b248295c8f61c102c94040161146ea4d51a182b6',
  ).then(resp => {
    console.log(resp)
  });
}

const onDeploy = async () => {

  const addresses = await provider.getAccounts()

  const address = addresses[0].address

  console.log(address)

  const tx = new TransactionBlock();
  const [upgradeCap] = tx.publish(
      compiledModulesAndDeps.modules.map((m) => Array.from(fromB64(m))),
      compiledModulesAndDeps.dependencies.map((addr) =>
          normalizeSuiObjectId(addr),
      ),
  );
  tx.transferObjects([upgradeCap], tx.pure(address));
  const result = await provider.signAndExecuteTransactionBlock({ transactionBlock: tx });

  // const tx = new TransactionBlock();
  // const [coin] = tx.splitCoins(tx.gas, [tx.pure(1)]);
  // tx.transferObjects([coin], tx.pure(address[0].address));
  // const result = await provider.signAndExecuteTransactionBlock({ transactionBlock: tx });
  console.log({ result });

  const digest = result.digest

  await delay(3000)

  const jsonProvider = new JsonRpcProvider();

  const txn = await jsonProvider.getTransactionBlock({
    digest: digest,
    // only fetch the effects field
    options: { showEffects: true , showObjectChanges: true },
  });

  console.log("checkTransaction result: ",txn)

  txn.objectChanges.forEach(t => {
    if (t.type === 'published'){
      console.log(t.packageId)
    }
  })
}

const onGetObjects = async ()=> {
  const objects = await provider.getOwnedObjects({
    owner: '0x7a1378aafadef8ce743b72e8b248295c8f61c102c94040161146ea4d51a182b6',
  });
  console.log(objects)
}

const onGetObject = async ()=> {
  const provider = new JsonRpcProvider();
  const txn = await provider.getObject({
    id: "0xf9feabe26b34565c1adb41e2576c52e89af1ce427c808eca30b45cb07a53d2a7",
    // fetch the object content field
    options: { showContent: true },
  });

  provider.getNormalizedMoveModule()

  console.log(txn)
}

const sourceDeploy = async ()=> {
  console.log("start deploy")
  const keypair = Ed25519Keypair.fromSecretKey(new Uint8Array(32));
  const provider = new JsonRpcProvider();
  const signer = new RawSigner(keypair, provider);

  console.log(await signer.getAddress())
  const tx = new TransactionBlock();
  const [upgradeCap] = tx.publish(
      compiledModulesAndDeps.modules.map((m) => Array.from(fromB64(m))),
      compiledModulesAndDeps.dependencies.map((addr) =>
          normalizeSuiObjectId(addr),
      ),
  );
  tx.transferObjects([upgradeCap], tx.pure(await signer.getAddress()));
  const result = await signer.signAndExecuteTransactionBlock({ transactionBlock: tx });
  console.log({ result });
}

const sourceMoveCall = async () => {
  console.log("start deploy")
  const keypair = Ed25519Keypair.fromSecretKey(new Uint8Array(32));
  const provider = new JsonRpcProvider();
  const signer = new RawSigner(keypair, provider);

  console.log(await signer.getAddress())
  // const packageObjectId = '0x1b79a023230426b184100f75c24a17120b6b874880c14ff642d67bdd0a3b2e5a';
  const tx = new TransactionBlock();
  tx.moveCall({
    target: "0x1b79a023230426b184100f75c24a17120b6b874880c14ff642d67bdd0a3b2e5a::devnet_nft::mint",
    arguments: [
      tx.pure("some hamster "),
      tx.pure("some hamster description"),
      tx.pure(
          "https://develop.hamster.newtouch.com/static/logo-dark.6da8722b.svg"
      ),
    ],
  });
  const result = await signer.signAndExecuteTransactionBlock({ transactionBlock: tx });
  console.log({ result });
}

const checkTransaction = async ()=> {
  //"87PRdFvGdC6kWDiHoi6vgSrhvTJcipw7NAZbFtTUMdYG"
  console.log('checkTransaction')
  const conn = new Connection({
    fullnode: "https://explorer-rpc.devnet.sui.io/"
  })
  const provider = new JsonRpcProvider(conn);
  const txn = await provider.getTransactionBlock({
    digest: '8iAF21UbBoJLUfmYBwbtQsPzvdyhy34RZBndRmsuoPiw',
    // only fetch the effects field
    options: { showEffects: false,showObjectChanges: false },
  });

  console.log("checkTransaction result: ",txn)
}

const moveCall = async()=> {

  const tx = new TransactionBlock();
  tx.moveCall({
    target: "0x1b79a023230426b184100f75c24a17120b6b874880c14ff642d67bdd0a3b2e5a::devnet_nft::mint",
    arguments: [
      tx.pure("some hamster2 "),
      tx.pure("some hamster2 description"),
      tx.pure(
          "https://develop.hamster.newtouch.com/static/logo-dark.6da8722c.svg"
      ),
    ],
  });
  const result = await provider.signAndExecuteTransactionBlock({ transactionBlock: tx });
  console.log({ result });
}

// 获取package 的所有module
const method1 = async () => {
  const provider = new JsonRpcProvider();
  const txn = await provider.getObject({
    id: "0x3472f40c04353703c5d4c4a31a40f9dbed8fdc8be15cc3bc9e0b6712a7e7e6c3",
    // fetch the object content field
    options: { showContent: true },
  });

  console.log(Object.keys(txn.data.content.disassembled))
}


// 获取某个package 下的module 的方法区内容
const method2 = async ()=> {
  const conn = new Connection({
    fullnode: "https://explorer-rpc.devnet.sui.io/"
  })
  const provider = new JsonRpcProvider(conn);
  const packageObjectId = '0x8e78537ed13d221d56f74838ddd209ad60e35ddf788d92c40854247e73340543'
  const txn = await provider.getNormalizedMoveModule({
    package: packageObjectId,
    module: "devnet_nft",
  })
  console.log(txn.exposedFunctions)
  let methods = Object.keys(txn.exposedFunctions)
  for(let method of methods){
    if(txn.exposedFunctions[method].isEntry  === true){
      console.log(method ,txn.exposedFunctions[method])
    }
  }
}

const method3 = async ()=> {
  const tx = new TransactionBlock();
  const packageObjectId = '0x8e78537ed13d221d56f74838ddd209ad60e35ddf788d92c40854247e73340543'
  tx.moveCall({
    target: `${packageObjectId}::devnet_nft::mint`, // 第一个参数是packageId, 第二个是module Name， 第三个参数是方法名
    arguments: [tx.pure('https://develop.alpha.hamsternet.io/static/Apps.b3f990a1.svg'),tx.pure('Name'),tx.pure('Description')],
  });
  const result = await provider.signAndExecuteTransactionBlock({
    transactionBlock: tx,
  })
  console.log(result)



  // 获取交易详情
  const conn = new Connection({
    fullnode: "https://explorer-rpc.devnet.sui.io/"
  })
  const rpcProvider = new JsonRpcProvider(conn);
  const txn = await rpcProvider.getTransactionBlock({
    digest: result.digest,
    // only fetch the effects field
    options: {},
  });

  console.log(txn)
}

</script>

<style scoped>

</style>


